{% extends 'base.html' %}
{% load static %}

{% block button %}
<a class="nav-link" href="/logout">Logout</a>
{% endblock %}

{% block styles %}

    /* Profile Page Styles */
    .profile {
        text-align: center;
        padding-top: 20px;

    }
#pr{
  color: #fff;
}
    .post-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        margin-top: 20px;
        width: 1000px;
        margin-left: auto;
        margin-right: auto;
    }

    .post {
        width: calc(33.33% - 20px);
        margin: 10px;
        padding: 10px;
        background-color: #f5f5f5;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .post h4 {
        font-size: 20px;
        margin-top: 10px;
        margin-bottom: 10px;
    }

    .post p {
        margin-bottom: 5px;
        font-size: 14px;
    }

    .post img {
        width: 100%;
        max-height: 200px;
        object-fit: cover;
        border-radius: 5px;
    }

    .post a {
        display: inline-block;
        padding: 5px 10px;
        background-color: #5181b8;
        color: #fff;
        text-decoration: none;
        border-radius: 5px;
        margin-top: 10px;
        font-size: 14px;
        transition: background-color 0.3s;
    }

    .post a:hover {
        background-color: #416d9f;
    }

    .button {
        display: inline-block;
        padding: 10px 20px;
        background-color: #5181b8;
        color: #fff;
        text-decoration: none;
        border-radius: 5px;
        margin-top: 20px;
        margin-right: 10px;
        font-size: 16px;
        transition: background-color 0.3s;
    }

    .button:hover {
        background-color: #416d9f;
    }

{% endblock %}

{% block content %}
<div class="profile">
    <h1>User Information</h1>
    <h2>{{ user.username }}</h2>
    {% if user.customuser.profile_image %}
    <img src="{{ user.customuser.profile_image.url }}" alt="Profile Image">
    {% else %}
    <img src="{% static 'default_avatar.jpg' %}" alt="Default Avatar">
    {% endif %}

    <h3>Posts:</h3>
    <div class="post-container">
        {% for post in posts %}
        <div class="post">
            <h4>Title: {{ post.title }}</h4>
            <p>Publication Date: {{ post.publication_date }}</p>
            <p>ISBN: {{ post.isbn }}</p>
            <p>Number of Likes: {{ post.numOfLikes }}</p>
            <p>Creator: {{ post.creator }}</p>
            {% if post.cover %}
            <img src="{{ post.cover.url }}" alt="Post Cover">
            {% endif %}
            {% if post.sample %}
                <a href="{{ post.sample.url }}">Download Sample</a>
            {%endif %}
<p>Tags:</p>
<ul>
{% for tag in post.tags.all %}
<li>{{ tag.name }}</li>
{% endfor %}
</ul>
</div>
{% endfor %}
</div>
    <a class="button" href="/create-post">Add Post</a>
    </div>
{% endblock %}
